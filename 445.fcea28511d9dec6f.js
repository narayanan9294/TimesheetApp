"use strict";(self.webpackChunkTeamB_UI=self.webpackChunkTeamB_UI||[]).push([[445],{7445:(D,f,l)=>{l.r(f),l.d(f,{AcheivementModule:()=>_});var g=l(6895),x=l(3930),e=l(4650),A=l(9862),r=l(4006),u=l(805);function k(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.clear(a))})("keydown.enter",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.clear(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",t.iconCancelClass)("ngStyle",t.iconCancelStyle),e.uIk("tabindex",t.disabled||t.readonly?null:"0")}}function w(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",6),e.NdJ("click",function(a){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.rate(a,c))})("keydown.enter",function(a){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.rate(a,c))}),e.qZA()}if(2&n){const t=i.index,o=e.oxw(2);e.Q6J("ngClass",!o.value||t>=o.value?o.iconOffClass:o.iconOnClass)("ngStyle",!o.value||t>=o.value?o.iconOffStyle:o.iconOnStyle),e.uIk("tabindex",o.disabled||o.readonly?null:"0")}}function Z(n,i){if(1&n&&(e.ynx(0),e.YNc(1,k,1,3,"span",3),e.YNc(2,w,1,3,"span",4),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.cancel),e.xp6(1),e.Q6J("ngForOf",t.starsArray)}}function O(n,i){1&n&&e.GkF(0)}function I(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.clear(a))})("keydown.enter",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.clear(a))}),e.YNc(1,O,1,0,"ng-container",10),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngStyle",t.iconCancelStyle),e.uIk("tabindex",t.disabled||t.readonly?null:"0"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.cancelIconTemplate)}}function J(n,i){1&n&&e.GkF(0)}function R(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",11),e.NdJ("click",function(a){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.rate(a,c))})("keydown.enter",function(a){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.rate(a,c))}),e.YNc(1,J,1,0,"ng-container",10),e.qZA()}if(2&n){const t=i.index,o=e.oxw(2);e.uIk("tabindex",o.disabled||o.readonly?null:"0"),e.xp6(1),e.Q6J("ngTemplateOutlet",o.getIconTemplate(t))}}function S(n,i){if(1&n&&(e.YNc(0,I,2,3,"span",7),e.YNc(1,R,2,2,"span",8)),2&n){const t=e.oxw();e.Q6J("ngIf",t.cancel),e.xp6(1),e.Q6J("ngForOf",t.starsArray)}}const U=function(n,i){return{"p-readonly":n,"p-disabled":i}},N={provide:r.JU,useExisting:(0,e.Gpc)(()=>C),multi:!0};let C=(()=>{class n{constructor(t){this.cd=t,this.isCustomCancelIcon=!0,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new e.vpe,this.onCancel=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let t=0;t<this.stars;t++)this.starsArray[t]=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"onicon":this.onIconTemplate=t.template;break;case"officon":this.offIconTemplate=t.template;break;case"cancel":this.cancelIconTemplate=t.template}})}getIconTemplate(t){return!this.value||t>=this.value?this.offIconTemplate:this.onIconTemplate}rate(t,o){!this.readonly&&!this.disabled&&(this.value=o+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:t,value:o+1})),t.preventDefault()}clear(t){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(t)),t.preventDefault()}writeValue(t){this.value=t,this.cd.detectChanges()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-rating"]],contentQueries:function(t,o,a){if(1&t&&e.Suo(a,u.jx,4),2&t){let s;e.iGM(s=e.CRH())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{isCustomCancelIcon:"isCustomCancelIcon",index:"index",disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[e._Bn([N])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Z,3,2,"ng-container",1),e.YNc(2,S,2,2,"ng-template",null,2,e.W1O),e.qZA()),2&t){const a=e.MAs(3);e.Q6J("ngClass",e.WLB(3,U,o.readonly,o.disabled)),e.xp6(1),e.Q6J("ngIf",!o.isCustomIcon)("ngIfElse",a)}},dependencies:[g.mk,g.sg,g.O5,g.tP,g.PC],styles:[".p-rating-icon{cursor:pointer;display:inline-flex}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,u.m8]}),n})();var v=l(1740),y=l(5593),b=l(2921),M=l(7392),h=l(3546),T=l(8676);function Q(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card",23),e.NdJ("click",function(){const s=e.CHM(t).index,c=e.oxw();return e.KtG(c.cardClick(s))}),e.TgZ(2,"mat-card-content"),e._uU(3),e.qZA(),e.TgZ(4,"mat-card-content")(5,"p-rating",24),e.NdJ("ngModelChange",function(a){const c=e.CHM(t).$implicit;return e.KtG(c.stars=a)})("onRate",function(a){const c=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.onClick(a,c.id,c.name,c.message))}),e.qZA()()(),e.BQk()}if(2&n){const t=i.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngModel",t.stars)("cancel",!1)}}function F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.addMessage(a.Users[a.empty].id))}),e.qZA()}}function E(n,i){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Code"),e.qZA()())}function H(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",36)(1,"td")(2,"div",37),e._uU(3),e.TgZ(4,"div",38)(5,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.onEdit(s.userId,s.message,s.id))}),e._uU(6," Edit "),e.qZA(),e.TgZ(7,"mat-icon",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.remove(s.id,s.userId))}),e._uU(8,"close "),e.qZA()()()()()}if(2&n){const t=i.$implicit;e.xp6(3),e.hij(" ",t.message," ")}}const G=function(){return{"min-width":"29rem",padding:"70px"}};function q(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"p-table",33),e.YNc(2,E,3,0,"ng-template",34),e.YNc(3,H,9,1,"ng-template",35),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("value",t.messageArray)("scrollable",!0)("tableStyle",e.DdM(3,G))}}function Y(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"div",28)(6,"input",29),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.property=a)}),e.qZA(),e.YNc(7,F,1,0,"button",30),e.qZA(),e.YNc(8,q,4,4,"ng-container",31),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.Users[t.empty].name),e.xp6(2),e.Oqu(t.Users[t.empty].message),e.xp6(2),e.Q6J("ngModel",t.property),e.xp6(1),e.Q6J("ngIf",t.property),e.xp6(1),e.Q6J("ngIf",t.msgVisible)}}function B(n,i){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Y,9,5,"div",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.nameVisible)}}function K(n,i){1&n&&(e.TgZ(0,"div",25)(1,"div",41),e._UZ(2,"img",42),e.TgZ(3,"h1",43),e._uU(4,"Achievements"),e.qZA()()())}class m{constructor(i,t){this.attendanceService=i,this.formBuilder=t,this.Users=[],this.empty=0,this.arr=[],this.newArr=[],this.visible=!1,this.property="",this.show=!0,this.toggle=!0,this.msgVisible=!1,this.nameVisible=!1}ngOnInit(){this.getRating(),this.formValue=this.formBuilder.group({message:[""]}),this.items=[{label:"Acheivements"}],this.home={icon:"pi pi-home",routerLink:"/"}}getRating(){this.attendanceService.getRating().subscribe(i=>{console.log(i),this.Users=i,this.nameVisible=!0})}onClick(i,t,o,a){this.attendanceService.updateRating(t,{stars:i.value,name:o,message:a}).subscribe(c=>{console.log(c)}),this.getMessage(t)}cardClick(i){this.empty=i,this.getMessage(i+1),this.show=!1,this.toggle=!this.toggle}addMessage(i){this.attendanceService.addMessage({userId:i,message:this.property}).subscribe(o=>{console.log(o,"Added data")}),setTimeout(()=>{this.getMessage(i)},500)}getMessage(i){this.msgVisible=!0,this.attendanceService.getMessage(i).subscribe(t=>{console.log(t,"get data"),this.messageArray=t,this.property=""})}remove(i,t){console.log("HI",i),this.attendanceService.deleteMessage(i).subscribe(o=>{console.log(o)}),setTimeout(()=>{this.getMessage(t)},500)}onEdit(i,t,o){this.mesgId=o,this.userid=i,this.formValue.controls.message.setValue(t),console.log(t)}updateMesg(){let i={userId:this.userid,message:this.formValue.value.message};console.log(i.userId),this.attendanceService.updateMessage(this.mesgId,i).subscribe(o=>{console.log(o,"UpdatedMesg")}),document.getElementById("cancel")?.click(),this.formValue.reset(),setTimeout(()=>{this.getMessage(this.userid)},500)}}m.\u0275fac=function(i){return new(i||m)(e.Y36(A.d),e.Y36(r.qu))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-achievement"]],decls:32,vars:6,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[3,"model","home"],[1,"container"],[1,"left"],[4,"ngFor","ngForOf"],["class","right",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","formControlName","message","aria-describedby","emailHelp",1,"form-control"],[1,"modal-footer"],["type","button","id","cancel","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card",3,"click"],[3,"ngModel","cancel","ngModelChange","onRate"],[1,"right"],["class","content",4,"ngIf"],[1,"content"],[2,"text-align","center"],["type","text","pInputText","","placeholder","Add Message",2,"margin-right","20px",3,"ngModel","ngModelChange"],["pButton","","type","button","icon","pi pi-check","iconPos","left",3,"click",4,"ngIf"],[4,"ngIf"],["pButton","","type","button","icon","pi pi-check","iconPos","left",3,"click"],["scrollHeight","230px",3,"value","scrollable","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"padding-left","10px"],[1,"tableDiv"],[1,"cancelDiv"],["id","btn","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary",2,"margin-right","10px",3,"click"],["color","warn",1,"close-icon",3,"click"],[1,"imageHeading"],["src","../../assets/acheivements.jpg","alt","Acheivements",1,"image"],[1,"h1"]],template:function(i,t){1&i&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),e.TgZ(5,"title"),e._uU(6,"Document"),e.qZA()(),e.TgZ(7,"body"),e._UZ(8,"p-breadcrumb",4),e.TgZ(9,"div",5)(10,"div",6),e.YNc(11,Q,6,3,"ng-container",7),e.qZA(),e.YNc(12,B,2,1,"div",8),e.YNc(13,K,5,0,"div",8),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"h1",13),e._uU(19,"Message Editor"),e.qZA(),e._UZ(20,"button",14),e.qZA(),e.TgZ(21,"div",15)(22,"form",16)(23,"div",17)(24,"label",18),e._uU(25,"Message"),e.qZA(),e._UZ(26,"input",19),e.qZA()()(),e.TgZ(27,"div",20)(28,"button",21),e._uU(29,"Close"),e.qZA(),e.TgZ(30,"button",22),e.NdJ("click",function(){return t.updateMesg()}),e._uU(31,"Save"),e.qZA()()()()()()()),2&i&&(e.xp6(8),e.Q6J("model",t.items)("home",t.home),e.xp6(3),e.Q6J("ngForOf",t.Users),e.xp6(1),e.Q6J("ngIf",!t.show),e.xp6(1),e.Q6J("ngIf",t.show),e.xp6(9),e.Q6J("formGroup",t.formValue))},dependencies:[g.sg,g.O5,C,u.jx,v.o,y.Hq,b.iA,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,M.Hw,h.a8,h.dn,r.On,T.a],styles:[".panel[_ngcontent-%COMP%]{width:831px;display:flex;flex-direction:column;margin-top:50px;margin-left:200px;justify-content:space-evenly}.starr[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.accrodin[_ngcontent-%COMP%]{padding:10px}body[_ngcontent-%COMP%]{background-color:transparent;background-image:url(achievement_background.3670be5503f4e084.jpg)}.container[_ngcontent-%COMP%]{display:flex}.brown[_ngcontent-%COMP%]{background-color:#c07373}.red[_ngcontent-%COMP%]{background-color:#fff}.left[_ngcontent-%COMP%]{height:550px;width:25%;display:flex;flex-direction:column;margin-top:10px;margin-left:20px;border-radius:7px;background-color:bisque}.right[_ngcontent-%COMP%]{margin-left:10px;height:550px;width:70%;margin-top:10px;margin-left:2 0px;border-radius:7px;background-color:#ffebcd}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:50px}.card[_ngcontent-%COMP%]{margin-top:24px;margin-left:30px;width:220px;height:80px}#btn[_ngcontent-%COMP%]{margin-right:10px;padding-top:1px;height:30px}.starClass[_ngcontent-%COMP%]{color:red}th[_ngcontent-%COMP%]{display:none}p-table[_ngcontent-%COMP%]{min-width:29rem;padding:71px}.arrowIcon[_ngcontent-%COMP%], .tableDiv[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.image[_ngcontent-%COMP%]{width:300px;height:300px;display:block;margin-left:auto;margin-right:auto;margin-top:4rem;margin-bottom:45px}.imageHeading[_ngcontent-%COMP%]{display:flex;flex-direction:column}.h1[_ngcontent-%COMP%]{font-size:40px;text-align:center;font-family:sans-serif;font-weight:600}.cancelDiv[_ngcontent-%COMP%]{display:flex;align-items:center}p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{text-align:left;border:1px solid #dee2e6;border-width:0 0 1px 0;padding:10px;border-radius:6px}"]});const j=[{path:"",component:m}];class p{}p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[x.Bz.forChild(j),x.Bz]});class _{}_.\u0275fac=function(i){return new(i||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[g.ez,p,P,v.j,y.hJ,b.U$,r.UX,M.Ps,h.QW,r.u5,T.w]})}}]);
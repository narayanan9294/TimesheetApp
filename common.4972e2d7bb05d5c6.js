"use strict";(self.webpackChunkTeamB_UI=self.webpackChunkTeamB_UI||[]).push([[592],{5017:(y,u,d)=>{d.d(u,{Ov:()=>S,Z9:()=>f,eX:()=>E,k:()=>w,yy:()=>g});var m=d(7579),p=d(4650);function f(o){return o&&"function"==typeof o.connect}class g{applyChanges(e,t,i,c,n){e.forEachOperation((s,a,r)=>{let l,h;if(null==s.previousIndex){const _=i(s,a,r);l=t.createEmbeddedView(_.templateRef,_.context,_.index),h=1}else null==r?(t.remove(a),h=3):(l=t.get(a),t.move(l,r),h=2);n&&n({context:l?.context,operation:h,record:s})})}detach(){}}class E{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,i,c,n){e.forEachOperation((s,a,r)=>{let l,h;null==s.previousIndex?(l=this._insertView(()=>i(s,a,r),r,t,c(s)),h=l?1:0):null==r?(this._detachAndCacheView(a,t),h=3):(l=this._moveView(a,r,t,c(s)),h=2),n&&n({context:l?.context,operation:h,record:s})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,i,c){const n=this._insertViewFromCache(t,i);if(n)return void(n.context.$implicit=c);const s=e();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){const i=t.detach(e);this._maybeCacheView(i,t)}_moveView(e,t,i,c){const n=i.get(e);return i.move(n,t),n.context.$implicit=c,n}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=t.indexOf(e);-1===i?e.destroy():t.remove(i)}}_insertViewFromCache(e,t){const i=this._viewCache.pop();return i&&t.insert(i,e),i||null}}class S{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new m.x,t&&t.length&&(e?t.forEach(c=>this._markSelected(c)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const w=new p.OlP("_ViewRepeater")}}]);